# 文檔維護指南

## 📋 概述

本指南建立了 MKing Friend 專案中維護雙語文檔的強制性規則。所有開發者必須遵循這些標準，以確保中英文版本之間的一致性。

## 🌐 雙語文檔要求

### 強制性雙語文檔政策

**關鍵規則**：`/docs/` 目錄中的所有文檔必須維護中英文兩個版本。

**執行規則**：每次文檔創建、更新或修改都必須在同一個提交中包含中英文兩個版本。生產文檔不允許任何例外情況。

#### 文件命名規範

1. **中文版本**：在檔名後加上 `-zh` 後綴
   ```
   README-zh.md
   CHANGELOG-zh.md
   setup-zh.md
   api-design-zh.md
   ```

2. **英文版本**：使用原始檔名（無後綴）
   ```
   README.md
   CHANGELOG.md
   setup.md
   api-design.md
   ```

### 同步要求

#### 內容同步標準

1. **資訊對等性**
   - 中英文版本必須包含相同的資訊
   - 技術規格必須一致
   - 程式碼範例和配置必須相同
   - 版本號和日期必須匹配

2. **結構一致性**
   - 章節和段落結構必須相同
   - 內部文檔連結必須正確對應
   - 目錄結構必須匹配
   - 目錄必須對齊

3. **技術準確性**
   - 技術術語必須一致
   - API 端點和參數必須相同
   - 配置範例必須完全匹配
   - 程式碼片段必須相同

#### 更新時機要求

**強制要求**：兩個版本必須同時更新：

- ✅ **正確**：在同一個提交中更新中英文兩個版本
- ❌ **錯誤**：只更新一個語言版本
- ❌ **錯誤**：在不同的提交中更新版本而沒有協調

#### 自動化執行規則

**零容忍政策**：以下規則將自動執行：

1. **提交前驗證**
   - 所有涉及 `/docs/` 目錄的提交必須包含兩個語言版本
   - 缺少語言版本將導致提交被拒絕
   - 內容一致性檢查是強制性的

2. **拉取請求要求**
   - 包含文檔更改的 PR 必須包含中英文兩個版本
   - 自動檢查驗證文件命名規範
   - 內容同步驗證是必需的

3. **持續集成檢查**
   - CI 管道驗證雙語文檔完整性
   - 版本間內容不一致將導致構建失敗
   - 缺少翻譯將阻止部署

### 開發者責任

#### 創建新文檔時

1. **立即雙語創建**
   - 創建中文（`-zh.md`）和英文（`.md`）版本
   - 從一開始就確保內容對等
   - 在同一個提交中包含兩個文件

2. **內容要求**
   - 先用英文撰寫技術內容（行業標準）
   - 翻譯成中文並保持技術準確性
   - 驗證所有程式碼範例相同
   - 檢查所有內部連結在兩個版本中都有效

#### 更新現有文檔時

1. **同時更新**
   - 在同一個會話中修改兩個語言版本
   - 確保變更在兩個版本中相同地反映
   - 一起提交兩個文件

2. **變更驗證**
   - 更新後比較版本間的內容
   - 驗證技術術語一致性
   - 檢查所有修改都在兩個版本中反映

### 品質保證檢查清單

#### 提交前檢查清單

在提交文檔變更前，驗證：

- [ ] 中文（`-zh.md`）和英文（`.md`）版本都存在
- [ ] 版本間的內容資訊相同
- [ ] 技術術語一致且準確
- [ ] 程式碼範例完全相同
- [ ] 內部文檔連結正確對應
- [ ] 版本號和更新日期同步
- [ ] 文檔結構和標題一致
- [ ] 所有新章節在兩個版本中都存在
- [ ] 文件格式和 markdown 語法正確

#### 翻譯品質標準

1. **技術術語**
   - 使用行業標準的中文技術術語
   - 保持英文技術準確性
   - 必要時在括號中提供英文術語
   - 在所有文檔中保持術語一致性

2. **程式碼和配置**
   - 絕不翻譯程式碼範例
   - 保持配置文件內容為原始語言
   - 只有在提高清晰度時才翻譯註釋
   - 保持確切的格式和縮排

3. **連結和參考**
   - 內部連結應指向對應的語言版本
   - 外部連結應優先使用官方英文文檔
   - 提供中文特定資源時註明語言
   - 確保兩個版本中的所有連結都有效

### 執行和合規性

#### 程式碼審查要求

**審查者必須驗證**：
- 拉取請求中包含兩個語言版本
- 中英文版本間的內容一致性
- 翻譯的技術準確性
- 正確的文件命名規範
- 兩個版本中的連結功能性

#### 違規後果

- **單語言提交將被拒絕**
- **版本間內容不一致需要重新提交**
- **缺少雙語文檔阻止合併批准**
- **重複違規影響開發者績效評估**

#### 自動化檢查（已實施）

```bash
# 可用的自動化腳本
./scripts/check-bilingual-docs.sh          # 驗證雙語文檔完整性
./scripts/validate-doc-consistency.sh      # 計劃中：高級內容一致性驗證
./scripts/verify-internal-links.sh         # 計劃中：內部鏈接驗證
```

**活躍的自動化：**
- **Pre-commit Hook**：在每次提交時自動驗證雙語文檔
- **雙語檢查器**：驗證文件命名規範和缺失翻譯
- **內容一致性**：語言版本間的基本結構驗證

**設置說明：**
```bash
# 專案設置後腳本自動可執行
# 測試雙語文檔檢查器
./scripts/check-bilingual-docs.sh

# Pre-commit hook 自動安裝
# 如需手動安裝：
chmod +x .git/hooks/pre-commit
```

### 維護責任

#### 基於角色的責任

1. **文檔創建者**
   - 必須提供中英文版本
   - 確保初始內容對等
   - 驗證所有連結和參考有效

2. **文檔修改者**
   - 必須同時更新兩個版本
   - 保持內容一致性
   - 驗證變更在兩種語言中都反映

3. **程式碼審查者**
   - 必須檢查雙語文檔完整性
   - 驗證版本間內容一致性
   - 確保翻譯的技術準確性

4. **專案維護者**
   - 定期審核雙語文檔狀態
   - 識別和解決不一致問題
   - 根據需要更新維護程序

### 文檔工作流程

#### 新文檔的標準工作流程

1. **規劃階段**
   ```bash
   # 同時創建兩個文件
   touch docs/new-feature.md
   touch docs/new-feature-zh.md
   ```

2. **內容創建**
   - 先撰寫英文版本（技術標準）
   - 翻譯成中文並保持準確性
   - 驗證程式碼範例相同
   - 檢查內部連結在兩個版本中都有效

3. **審查和提交**
   ```bash
   # 一起提交兩個文件
   git add docs/new-feature.md docs/new-feature-zh.md
   git commit -m "docs: add new feature documentation (EN/ZH)"
   ```

#### 文檔更新的標準工作流程

1. **準備**
   - 打開兩個語言版本
   - 規劃變更以確保一致性

2. **修改**
   - 先更新英文版本
   - 對中文版本應用相同變更
   - 驗證技術準確性

3. **驗證**
   - 比較兩個版本的一致性
   - 檢查所有連結和參考
   - 驗證程式碼範例匹配

4. **提交**
   ```bash
   git add docs/updated-file.md docs/updated-file-zh.md
   git commit -m "docs: update feature documentation (EN/ZH)"
   ```

### 工具和資源

#### 推薦工具

1. **差異工具**
   - 使用 `diff` 或 `vimdiff` 比較版本
   - VS Code "比較文件" 功能
   - 線上差異工具進行詳細比較

2. **翻譯資源**
   - 技術術語詞典
   - 行業標準中文技術術語
   - 一致術語參考表

3. **連結驗證**
   - Markdown 連結檢查器
   - 內部連結驗證腳本
   - 自動連結測試工具

#### 輔助腳本

**目前可用：**
```bash
# 雙語文檔驗證
./scripts/check-bilingual-docs.sh
```

**未來開發計劃：**
```bash
# 額外的實用腳本（計劃中）
./scripts/create-bilingual-doc.sh <filename>
./scripts/sync-doc-versions.sh <filename>
./scripts/validate-bilingual-consistency.sh
```

**腳本文檔：**
詳細使用說明請參見：[腳本 README](../scripts/README-zh.md)

### 例外處理

#### 臨時單語言文檔

在無法立即創建雙語的罕見情況下：

1. **創建追蹤問題**
   - 記錄缺少的語言版本
   - 設定完成期限
   - 分配翻譯責任

2. **添加佔位符**
   ```markdown
   # [文檔標題]
   
   **翻譯狀態**：🚧 英文版本待完成
   **預期完成**：[日期]
   **分配給**：[開發者]
   
   [中文內容...]
   ```

3. **優先完成**
   - 在 48 小時內完成缺少的版本
   - 完成時更新追蹤問題
   - 移除佔位符內容

### 監控和報告

#### 定期審核

**月度文檔審核**：
- 識別缺少的語言版本
- 檢查版本間內容一致性
- 驗證連結功能性
- 更新維護程序

#### 指標追蹤

- 雙語文檔覆蓋率百分比
- 完成缺少翻譯的平均時間
- 發現的一致性問題數量
- 開發者合規率

### 未來增強

#### 計劃改進

1. **自動驗證**
   - 雙語檢查的預提交鉤子
   - 文檔驗證的 CI/CD 整合
   - 自動一致性檢查

2. **翻譯輔助**
   - 翻譯記憶系統
   - 術語管理工具
   - 自動翻譯建議

3. **文檔管理**
   - 集中式文檔儀表板
   - 即時同步狀態
   - 自動報告系統

---

## 📝 變更追蹤整合

本指南與 `DEVELOPMENT_STANDARDS-zh.md` 中的變更追蹤要求整合：

- 所有文檔變更必須記錄在 `CHANGELOG-zh.md`（兩個版本）
- 雙語文檔更新對所有提交都是強制性的
- 文檔維護是開發工作流程的一部分

---

**文檔版本**：v1.0  
**最後更新**：2025-01-02  
**維護者**：開發團隊  
**狀態**：✅ 強制執行  
**相關文檔**：
- [開發標準](./development/DEVELOPMENT_STANDARDS.md)
- [開發標準（中文）](./development/DEVELOPMENT_STANDARDS-zh.md)